<template>
  <div>
    <el-row :gutter="20">
      <el-col :span="6">
        <div class="grid-content bg-purple" style="box-shadow: 1px 1px 10px #ccc;">
          <svg
            t="1596555668357"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="3507"
            data-spm-anchor-id="a313x.7781069.0.i14"
            width="52"
            height="52"
          >
            <path
              d="M706.066 472.244H320.784c-11.817 0-21.406 10.05-21.406 22.441v11.176c0 12.402 9.589 22.452 21.406 22.452h385.282c11.817 0 21.406-10.061 21.406-22.452v-11.176c0.011-12.391-9.589-22.441-21.406-22.441zM504.208 674.462H319.862c-11.311 0-20.483 10.095-20.483 22.542v11.344c0 12.436 9.172 22.531 20.483 22.531h184.346c11.311 0 20.483-10.084 20.483-22.531v-11.344c0-12.447-9.172-22.542-20.483-22.542zM896.456 0H130.395C105.5 0 85.333 20.888 85.333 46.661v929.722c0 25.761 20.168 46.661 45.062 46.661h545.307c8.306-1.733 23.004-6.798 38.479-21.811l204.615-205.201s17.759-17.118 22.734-45.603V46.66c-0.011-25.772-20.19-46.661-45.074-46.661z m-11.434 789.02c-0.034-0.574-0.113-1.137-0.169-1.699l0.169-0.169v1.868z m0-47.009h-174.96c-40.178 0-50.093 12.076-50.093 50.42v115.582l-0.023 0.023v58.939H166.611c-13.685 0-24.771-11.479-24.771-25.604V81.696c0-14.158 11.086-25.615 24.771-25.615h693.64c13.685 0 24.771 11.457 24.771 25.615v660.316zM706.066 258.434H320.784c-11.817 0-21.406 10.084-21.406 22.531v11.344c0 12.436 9.589 22.531 21.406 22.531h385.282c11.817 0 21.406-10.084 21.406-22.531v-11.344c0.011-12.436-9.589-22.531-21.406-22.531z"
              fill="#1296db"
              p-id="3508"
            />
          </svg>
          <div>
            <p style="color:#606266">总订单</p>
            <span>{{totalOrder}}</span>
          </div>
        </div>
      </el-col>
      <el-col :span="6">
        <div class="grid-content bg-purple">
          <svg
            t="1596556412856"
            class="icon"
            viewBox="0 0 1204 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4826"
            width="52"
            height="52"
          >
            <path
              d="M1201.719367 642.187798C1201.719367 546.046133 1070.928037 470.732643 910.669792 470.732643 900.004193 470.732643 887.178909 471.115138 876.836771 471.76698L876.836771 191.225577C878.328626 184.119278 877.772717 176.905978 877.772717 169.534023 877.772717 74.793203 756.167429 0.576773 595.907954 0.576773 435.64479 0.576773 310.123534 74.794434 310.123534 169.534023 310.123534 176.905978 311.136963 184.120509 312.622669 191.225577L312.622669 268.152683C303.579295 267.668106 294.41539 267.363094 285.09775 267.363094 124.839505 267.363094 1.652579 341.568454 1.652579 436.299436 1.652579 443.6923 0.326758 450.905599 1.819844 458.011899L1.819844 850.939342 3.767988 850.939342C8.797005 940.502328 130.370317 1009.92711 285.09775 1009.92711 439.708344 1009.92711 569.041026 940.615478 574.248376 850.938111L576.191601 850.938111 576.191601 834.571976C585.343206 835.104518 586.490693 835.960521 595.907954 835.960521 606.60307 835.960521 617.047289 835.507921 627.383277 834.832712L627.383277 839.454636 629.467939 839.454636 628.862833 850.16082C628.862833 942.516885 754.484939 1022.954095 914.853875 1022.954095 1075.243717 1022.954095 1200.858445 949.518644 1200.858445 855.590781L1200.546053 844.930102 1202.342917 844.930102 1202.342917 664.212653C1203.8606 656.999353 1201.719367 649.690122 1201.719367 642.187798L1201.719367 642.187798ZM914.852645 525.240099C1055.843447 525.240099 1154.09314 586.872303 1154.09314 642.187798 1154.09314 697.498372 1055.842216 759.130577 914.852645 759.130577 773.871683 759.130577 675.61953 697.498373 675.61953 642.187798 675.620759 586.872304 773.871683 525.240099 914.852645 525.240099L914.852645 525.240099ZM1156.636551 738.049047 1156.636551 767.6328C1143.155736 826.860572 1035.997954 876.378368 914.850185 876.378368 793.790968 876.378368 686.643026 826.895008 673.077348 767.727502L673.077348 738.049047C724.594944 783.94605 812.762006 813.638033 914.850185 813.638033 1016.955582 813.638033 1105.118954 783.94728 1156.636551 738.049047L1156.636551 738.049047ZM595.907954 499.507129C586.609992 499.507129 585.264493 499.104955 576.190371 498.523218L576.190371 458.011899C577.115248 453.613816 577.740032 449.166537 578.174183 444.673751 586.565716 445.178006 587.248305 445.483018 595.909184 445.483018 697.448831 445.483018 780.727084 415.51308 830.244881 369.601317L830.244881 392.357957C816.955929 450.696519 715.263775 499.507129 595.907954 499.507129L595.907954 499.507129ZM834.159618 476.819363C830.023501 477.482274 825.854177 478.075081 821.794312 478.833922 825.987005 475.53167 830.391237 472.326579 834.159618 468.834924L834.159618 476.819363 834.159618 476.819363ZM595.907954 54.29833C734.830082 54.29833 827.726068 115.025336 827.726068 169.532792 827.726068 224.02795 734.830081 284.753726 595.906723 284.753726 456.979676 284.753726 360.170182 224.02672 360.170182 169.532792 360.170184 115.025336 456.979677 54.29833 595.907954 54.29833L595.907954 54.29833ZM357.65875 263.97844C361.973201 267.827992 366.900137 271.389751 371.729912 274.995787 367.135046 274.153312 362.355696 273.560506 357.65875 272.85455L357.65875 263.97844 357.65875 263.97844ZM285.09775 321.066203C424.024797 321.066203 524.749028 381.806737 524.749028 436.300665 524.749028 490.814272 424.024797 551.5216 285.09775 551.5216 146.175621 551.5216 49.366128 490.814272 49.366128 436.300665 49.366129 381.806739 146.175623 321.066203 285.09775 321.066203L285.09775 321.066203ZM46.848546 530.765991C97.628208 575.987785 184.495278 605.246847 285.097751 605.246847 385.700223 605.246847 476.486949 575.986555 527.246933 530.765991L527.246933 559.913134C513.97274 618.268915 404.460951 667.068456 285.097751 667.068456 165.798505 667.068456 60.22605 618.302121 46.848546 559.990617L46.848546 530.765991 46.848546 530.765991ZM46.848546 636.440526C96.365112 682.299402 183.547034 712.269341 285.09775 712.269341 386.637397 712.269341 477.748814 682.299403 527.246932 636.38887L527.246932 659.12829C513.972738 717.48407 404.46095 766.281151 285.09775 766.281151 165.798503 766.281151 60.226049 717.534495 46.848544 659.224221L46.848546 636.440526 46.848546 636.440526ZM46.848546 735.664291C96.365112 781.531777 183.547034 811.494336 285.097751 811.494336 386.637399 811.494336 477.748815 781.531777 527.246933 735.612636L527.246933 758.352056C513.97274 816.713985 404.460951 865.506148 285.097751 865.506148 165.798505 865.506148 60.22605 816.765641 46.848546 758.43323L46.848546 735.664291 46.848546 735.664291ZM285.09775 964.717616C161.261442 964.717616 52.476518 912.161994 45.999921 850.939342L46.848544 850.939342 46.848544 834.87945C96.365111 880.723568 183.547033 910.695966 285.09775 910.695966 386.637397 910.695966 477.748814 880.724797 527.246932 834.833944L527.246933 850.939342 528.082028 850.939342C521.607892 912.160763 408.924219 964.717616 285.09775 964.717616L285.09775 964.717616ZM571.807047 399.057163C562.375027 373.401676 535.596651 350.133403 509.259805 330.516671 536.547356 335.494032 565.486646 338.458065 595.910414 338.458065 696.512886 338.458065 779.466449 309.201462 830.246112 263.978438L830.246112 293.128041C816.958389 351.483821 715.266235 400.280902 595.910414 400.280902 585.119367 400.282132 582.296771 399.809856 571.807047 399.057163L571.807047 399.057163ZM627.382047 789.453493C617.03376 790.223404 606.555105 790.759636 595.907954 790.759636 586.609992 790.759636 585.264493 790.372221 576.190371 789.772034L576.190371 742.171635C585.241125 742.753373 586.565716 743.140787 595.907954 743.140787 606.633817 743.140787 617.059588 742.605786 627.382047 741.848173L627.382047 789.453493 627.382047 789.453493ZM627.382047 696.611622C617.03376 697.391372 606.555105 697.938672 595.907954 697.938672 586.609992 697.938672 585.264493 697.529119 576.190371 696.955991L576.190371 642.93926C585.241125 643.522227 586.565716 643.921942 595.907954 643.921942 605.844229 643.921942 615.517307 643.454584 625.084614 642.813811 625.333052 649.109613 626.12264 655.292267 627.383277 661.382678L627.382047 696.611622 627.382047 696.611622ZM634.113231 596.953705C621.59542 598.074134 608.864837 598.724745 595.909185 598.724745 586.611223 598.724745 585.265724 598.33487 576.191602 597.734685L576.191602 543.747471C585.242356 544.30707 586.566947 544.708014 595.909185 544.708014 626.569091 544.708014 655.686716 541.681257 683.103405 536.595665 660.426709 554.211368 643.635032 574.617689 634.113231 596.953705L634.113231 596.953705ZM914.852645 977.075541C786.011918 977.075541 672.880567 921.051631 671.605171 856.910453L672.008574 844.930102 672.691163 844.930102C722.854651 891.680648 811.528429 922.255692 914.852645 922.255692 1018.141195 922.255692 1106.787915 891.692947 1156.969852 844.930102L1157.739763 844.930102 1158.117339 855.799862C1158.114877 920.40102 1044.449754 977.075541 914.852645 977.075541L914.852645 977.075541ZM262.454261 471.491484C260.35853 468.973901 258.719088 464.034667 257.547003 456.67378L223.579924 456.67378C223.324107 472.855432 230.366453 484.30693 244.705731 491.023354 252.842677 494.758527 265.174776 497.269961 281.704485 498.555195L281.704485 515.998713 293.902526 515.998713 293.902527 498.37932C306.909834 497.690583 318.138723 495.287379 327.615018 491.204148 343.132529 484.550447 350.90174 473.856561 350.90174 459.134789 350.90174 447.974775 345.262698 439.328654 333.988304 433.197657 327.143971 429.527667 313.781225 425.28824 293.903757 420.489212L293.903757 387.107561C302.194439 387.522034 307.904815 389.797329 311.05948 393.953124 312.876026 396.348947 314.124364 400.134547 314.779894 405.334518L347.881131 405.334518C347.376876 391.327311 340.067645 381.180726 325.965736 374.930428 318.203906 371.015691 307.503871 368.683822 293.903757 367.92498L293.903757 356.092216 281.705716 356.092216 281.705716 367.749106C273.154297 368.220153 266.634655 368.940869 262.205823 369.940768 254.895362 371.521175 248.274869 374.390508 242.328355 378.524165 237.716271 381.742784 234.127454 385.55913 231.570515 390.00149 229.008656 394.451229 227.727111 399.376934 227.727111 404.806895 227.727111 413.047153 231.017065 420.088268 237.593282 425.933931 244.181797 431.764836 255.494318 436.321574 271.516084 439.602919L281.705716 441.701109 281.705716 479.109417C272.143328 477.947172 265.729455 475.403762 262.454261 471.491484L262.454261 471.491484ZM293.904986 444.597498C300.869848 446.401745 305.810313 448.154338 308.707931 449.842975 313.602891 452.773801 316.04299 456.738964 316.04299 461.759371 316.04299 468.362646 313.444234 473.000559 308.206136 475.691556 305.228575 477.206779 300.455375 478.265714 293.904986 478.844992L293.904986 444.597498 293.904986 444.597498ZM268.108062 413.657177C262.830608 410.795224 260.180196 406.916155 260.180196 402.000288 260.180196 397.507502 261.951237 393.965423 265.476098 391.358057 268.986202 388.762991 274.405094 387.412573 281.708175 387.285893L281.708175 418.040501C275.577178 416.703613 271.040118 415.238815 268.108062 413.657177L268.108062 413.657177ZM888.461683 668.188884C886.357343 665.67745 884.72528 660.751743 883.545816 653.393317L849.579968 653.393318C849.33276 669.577429 856.367727 681.024007 870.707004 687.740432 878.843951 691.475605 891.182199 693.985809 907.706989 695.280882L907.706989 712.703492 919.91241 712.703492 919.91241 695.101319C932.912338 694.395362 944.147375 691.992159 953.624901 687.919996 969.141182 681.253996 976.905472 670.560111 976.905472 655.838338 976.905472 644.679554 971.261511 636.050652 959.988347 629.913505 953.145243 626.223837 939.788647 621.991789 919.91241 617.20629L919.91241 583.823409C928.194483 584.224353 933.906088 586.514407 937.059524 590.657904 938.894519 593.053727 940.125637 596.851625 940.792237 602.051597L973.881175 602.051597C973.37815 588.030861 966.073838 577.897805 951.971929 571.653657 944.203949 567.74015 933.523592 565.387372 919.909949 564.62976L919.909949 552.809295 907.70576 552.809295 907.70576 564.452656C899.153111 564.937233 892.651917 565.664097 888.204638 566.645548 880.901556 568.225955 874.281063 571.087908 868.329629 575.242473 863.715085 578.448794 860.134878 582.286049 857.57179 586.707499 855.01731 591.156009 853.736995 596.101393 853.736995 601.525204 853.736995 609.751932 857.023258 616.795507 863.614234 622.638711 870.192912 628.481915 881.498052 633.039884 897.517359 636.306469L907.706991 638.416958 907.706991 675.825266C898.140911 674.653182 891.730729 672.102392 888.461683 668.188884L888.461683 668.188884ZM919.91241 641.301047C926.871122 643.118824 931.807898 644.860346 934.715355 646.546525 939.609083 649.477351 942.045494 653.456041 942.045494 658.482599 942.045494 665.064966 939.444278 669.718866 934.218479 672.408634 931.229849 673.923857 926.456649 674.970493 919.913639 675.551L919.91241 641.301047 919.91241 641.301047ZM894.111794 610.361957C888.829421 607.512304 886.197458 603.632003 886.197458 598.724746 886.197458 594.227041 887.947591 590.670203 891.474913 588.076366 895.004695 585.470231 900.402678 584.117353 907.70453 584.004203L907.70453 614.745282C901.582141 613.408392 897.05738 611.942364 894.111794 610.361957L894.111794 610.361957ZM571.272045 207.407228C569.175084 204.895794 567.536872 199.950411 566.359868 192.596903L532.39771 192.596903C532.143123 208.778555 539.196537 220.230053 553.537044 226.940327 561.661692 230.681649 573.992561 233.191853 590.524731 234.479547L590.524731 251.914456 602.722772 251.914456 602.722772 234.299985C615.7227 233.592798 626.958967 231.209274 636.434033 227.117432 651.951544 220.451433 659.714604 209.777225 659.714604 195.043154 659.714604 183.895439 654.081713 175.249318 642.802398 169.110941 635.956836 165.440952 622.59778 161.190455 602.722772 156.411106L602.722772 123.024535C611.006075 123.443927 616.737358 125.713073 619.878495 129.867639 621.70611 132.251164 622.935999 136.055211 623.611208 141.257643L656.692766 141.257643C656.188511 127.231987 648.885429 117.09893 634.782291 110.853553 627.015541 106.940046 616.333954 104.602027 602.721541 103.849334L602.721541 92.007961 590.5235 92.007961 590.5235 103.671C581.965931 104.134668 575.464738 104.862763 571.016228 105.862663 563.727904 107.435692 557.093883 110.285344 551.13999 114.44114 546.525446 117.648692 542.944008 121.483485 540.38338 125.924615 537.82644 130.355906 536.546126 135.30006 536.546126 140.723871 536.546126 148.971507 539.83485 156.005244 546.423366 161.836147 552.999583 167.679351 564.304724 172.243469 580.32649 175.505135L590.523501 177.621774 590.523501 215.023933C580.951272 213.849387 574.53986 211.318276 571.272045 207.407228L571.272045 207.407228ZM602.72031 180.500944C609.679022 182.31749 614.619487 184.075002 617.525716 185.76487 622.419444 188.677247 624.859545 192.660859 624.859545 197.681266 624.859545 204.284541 622.253409 208.922453 617.03499 211.613451 614.03898 213.123755 609.265781 214.174081 602.72154 214.766886L602.72031 180.500944 602.72031 180.500944ZM576.924616 149.57907C571.639782 146.710969 569.009049 142.829439 569.009049 137.922181 569.009049 133.429396 570.76164 129.866407 574.292652 127.273801 577.816284 124.686115 583.214267 123.316018 590.522269 123.200409L590.522269 153.962396C584.392502 152.605828 579.867741 151.160708 576.924616 149.57907L576.924616 149.57907Z"
              p-id="4827"
              fill="#d4237a"
            />
          </svg>
          <div>
            <p style="color:#606266">总销售额</p>
            <span>{{totalAmount}}</span>
          </div>
        </div>
      </el-col>
      <el-col :span="6">
        <div class="grid-content bg-purple">
          <svg
            t="1596556490050"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="6058"
            width="52"
            height="52"
          >
            <path
              d="M834 192h-66v-2c0-51.9-42.1-94-94-94-1.1 0-2-0.9-2-2 0-51.9-42.1-94-94-94H446c-51.9 0-94 42.1-94 94 0 1.1-0.9 2-2 2-51.9 0-94 42.1-94 94v2h-66c-51.9 0-94 42.1-94 94v644c0 51.9 42.1 94 94 94h644c51.9 0 94-42.1 94-94V286c0-51.9-42.1-94-94-94z m-518 0v-2c0-18.8 15.2-34 34-34h32c16.6 0 30-13.4 30-30V94c0-18.8 15.2-34 34-34h132c18.8 0 34 15.2 34 34v32c0 16.6 13.4 30 30 30h32c18.8 0 34 15.2 34 34v4c0 18.8-15.2 34-34 34H350c-18.8 0-34-15.2-34-34v-2z m552 738c0 18.8-15.2 34-34 34H190c-18.8 0-34-15.2-34-34V286c0-18.8 15.2-34 34-34h79.1c4.3 0 8.3 1.8 11.1 5 9.7 10.8 21.9 19.3 35.7 24.7 10.5 4.1 22 6.4 34 6.4h324c12 0 23.5-2.3 34-6.4 13.8-5.4 26-13.9 35.7-24.7 2.9-3.2 6.9-5 11.1-5H834c18.8 0 34 15.2 34 34v644z"
              fill="#1296db"
              p-id="6059"
            />
            <path
              d="M738 606H286c-16.5 0-30 13.5-30 30s13.5 30 30 30h452c16.5 0 30-13.5 30-30s-13.5-30-30-30zM738 794H286c-16.5 0-30 13.5-30 30s13.5 30 30 30h452c16.5 0 30-13.5 30-30s-13.5-30-30-30zM738 418H286c-16.5 0-30 13.5-30 30s13.5 30 30 30h452c16.5 0 30-13.5 30-30s-13.5-30-30-30z"
              fill="#1296db"
              p-id="6060"
            />
          </svg>
          <div>
            <p style="color:#606266">今日订单数</p>
            <span>{{todayOrder}}</span>
          </div>
        </div>
      </el-col>
      <el-col :span="6">
        <div class="grid-content bg-purple">
          <svg
            t="1596556557144"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="7713"
            width="52"
            height="52"
          >
            <path
              d="M504.954 1023.366c-278.057 0-503.461-225.452-503.461-503.46 0-278.058 225.404-503.46 503.46-503.46 278.01 0 503.462 225.402 503.462 503.46 0 278.008-225.452 503.46-503.461 503.46z m0-943.988c-243.294 0-440.527 197.234-440.527 440.528 0 243.293 197.233 440.48 440.527 440.48 243.294 0 440.48-197.187 440.48-440.48 0-243.294-197.186-440.528-440.48-440.528z m31.467 755.191h-62.934V677.19H284.691v-62.884h188.796v-94.399H284.691v-62.934h153.598L284.206 239.326l53.964-34.133 156.022 220.313h35.733l139.488-208.531 52.315 35.006-137.163 204.99h140.653v62.935H542.481l-6.061 9.017v85.382h188.797v62.884H536.421v157.38z"
              fill="#1afa29"
              p-id="7714"
            />
          </svg>
          <div>
            <p style="color:#606266">今日销售额</p>
            <span>{{totayAmount}}</span>
          </div>
        </div>
      </el-col>
    </el-row>
    <el-row>
      <el-col :span="24">
        <div id="myChart" :style="{width: '100%', height: '400px' }"></div>
      </el-col>
    </el-row>
  </div>
</template>

<script>
import { totaldata } from "@/api/apis";
export default {
  data() {
    return {
      amountData: "",
      totalOrder: "",
      totalAmount: "",
      todayOrder: "",
      totayAmount: "",
    };
  },
  //统计图
  mounted() {
    this.draw();
  },
  methods: {
    draw() {
      // 初始化echarts实例
      let myChart = this.$echarts.init(document.getElementById("myChart"));

      totaldata().then((res) => {
        console.log(res);
        this.amountData = res.data.amountData;
        this.totalOrder = res.data.totalOrder;
        this.totalAmount = res.data.totalAmount;
        this.todayOrder = res.data.todayOrder;
        this.totayAmount = res.data.totayAmount;
        // 绘制图表
        var option = {
          title: {
            text: "数据统计",
          },
          tooltip: {
            trigger: "axis",
            axisPointer: {
              type: "cross",
              label: {
                backgroundColor: "#6a7985",
              },
            },
          },
          legend: {
            data: ["订单数", "销售额"],
          },
          toolbox: {
            feature: {
              saveAsImage: {},
            },
          },
          grid: {
            left: "3%",
            right: "4%",
            bottom: "3%",
            containLabel: true,
          },
          xAxis: [
            {
              type: "category",
              boundaryGap: false,
              data: res.data.xData,
            },
          ],
          yAxis: {
            type: "value",
          },
          series: [
            {
              name: "订单数",
              type: "line",
              stack: "销售额",
              areaStyle: {},
              data: res.data.amountData,
            },
            {
              name: "销售额",
              type: "line",
              stack: "总量",
              areaStyle: {},
              data: res.data.orderData,
            },
          ],
        };
        // 3. 使用echarts实例对象， 关联数据配置对象， 创建表格
        myChart.setOption(option);
        //防止越界，重绘canvas
        window.onresize = myChart.resize;
        
      });
    },
  },
};
</script>

<style scoped lang='less'>
.el-row {
  margin-bottom: 20px;
  &:last-child {
    margin-bottom: 0;
  }
}
.el-col {
  border-radius: 4px;
}
.bg-purple-dark {
  background: #99a9bf;
}
.bg-purple {
  box-shadow: 1px 1px 10px #ccc;
  background: #fff;
   
}
.bg-purple-light {
  background: #e5e9f2;
}
.grid-content {
  border-radius: 4px;
  height: 70px;
  display: flex;
  justify-content: space-between;
  padding: 26px 40px 0 40px;
}
.row-bg {
  padding: 10px 0;
  background-color: #f9fafc;
}
#myChart {
  background: #fff;
  padding: 20px;
  box-shadow: 1px 1px 10px #ccc;
  
}
</style>